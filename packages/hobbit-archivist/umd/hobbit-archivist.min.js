!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mithril")):"function"==typeof define&&define.amd?define(["exports","mithril"],e):e(t.HobbitNavigator={},t.Mithril)}(this,function(t,e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function t(e,o,i){var r,s;return"object"!==(void 0===e?"undefined":n(e))?e:(e.hasOwnProperty(o[0])||(e=Object.assign({},e,((s={})[o[0]]={},s))),Object.assign({},e,((r={})[o[0]]=o.length>1?t(e[o[0]],o.slice(1),i):i,r)))},r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.data=e}return t.prototype.set=function(t,e){this.data=i(this.data,t.split("."),e)},t.prototype.remove=function(t){this.data=i(this.data,t.split("."),void 0)},t.prototype.find=function(t){var e=this.data,n=t.split(".");for(var o in n){if(!e[o=n[o]])return;e=e[o]}return e},t.prototype.clear=function(){this.data={}},t.prototype.all=function(){return this.data},t}(),s=void 0,c=[],f=function(t){c.forEach(function(e){e.notify&&e.notify(t)})},a={createStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return s=e?new e(t):new r(t),this},_resetStore:function(){return s=void 0,this},getState:function(){if(!s)throw"The store hasn't yet ben set for hobbit-archivist.\n                Set the store using 'createStore' before trying to access it.";return s.all()},subscribe:function(t){return c.push(t)-1},unsubscribe:function(t){c.splice(t,1)},find:function(t){if(!s)throw"The store hasn't yet ben set for hobbit-archivist.\n                Set the store using 'createStore' before trying to access it.";return s.find(t)},set:function(t,e){if(!s)throw"The store hasn't yet ben set for hobbit-archivist.\n                Set the store using 'createStore' before trying to access it.";s.set(t,e),f(t)},remove:function(t){if(!s)throw"The store hasn't yet ben set for hobbit-archivist.\n                Set the store using 'createStore' before trying to access it.";s.remove(t),f(t)},reset:function(){if(!s)throw"The store hasn't yet ben set for hobbit-archivist.\n                Set the store using 'createStore' before trying to access it.";s.clear()}};t.Store=a,t.subscribe=function(t,n){if(null==t.view&&"function"!=typeof t)throw"subscribe(component, path) expects a component, \n            not a vnode.";var o=a.subscribe({notify:function(e){n.includes(e)&&t.onstatechanged&&t.onstatechanged(a.find(e))}});return{view:function(){return e(t,{state:a.find(n),unsubscribe:function(){a.unsubscribe(o)}})}}},t.bind=function(t,n){if(null==t.view&&"function"!=typeof t)throw"bind(component, path) expects a component, \n            not a vnode.";return{view:function(){var o=a.find(n);return e(t,{state:o})}}},Object.defineProperty(t,"__esModule",{value:!0})});
